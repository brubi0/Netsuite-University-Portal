<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 2: Developing SuiteScripts</title>
    <style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;line-height:1.8;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:40px 20px}.container{max-width:900px;margin:0 auto}.header{background:white;padding:30px 40px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.2);margin-bottom:30px}.header h1{color:#2563eb;font-size:2rem;margin-bottom:10px}.header .meta{color:#6b7280;font-size:0.9rem}.content{background:white;padding:40px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.2)}.content h2{color:#1e40af;margin:35px 0 20px 0;font-size:1.6rem;padding-bottom:10px;border-bottom:3px solid #dbeafe}.content h2:first-of-type{margin-top:0}.content h3{color:#374151;margin:25px 0 15px 0;font-size:1.3rem}.content p{margin:15px 0;color:#374151}.content ul,.content ol{margin:15px 0 15px 30px;color:#374151}.content li{margin:10px 0}.info-box{padding:20px 25px;border-radius:8px;margin:25px 0;border-left:5px solid}.info-box.blue{background:#dbeafe;border-color:#2563eb}.info-box.yellow{background:#fef3c7;border-color:#f59e0b}.info-box.green{background:#dcfce7;border-color:#10b981}.info-box.red{background:#fee2e2;border-color:#ef4444}.info-box.purple{background:#f3e8ff;border-color:#9333ea}.info-box strong{color:#1e40af;display:block;margin-bottom:10px;font-size:1.1rem}code{background:#f3f4f6;padding:3px 8px;border-radius:4px;font-family:monospace;font-size:0.9em;color:#ef4444}pre{background:#1e293b;color:#e2e8f0;padding:25px;border-radius:8px;overflow-x:auto;margin:25px 0;border-left:5px solid #667eea}pre code{background:none;padding:0;color:inherit}.takeaway{background:#f0f9ff;border:2px solid #0ea5e9;border-radius:10px;padding:25px;margin:30px 0}.takeaway h3{color:#0369a1;margin:0 0 15px 0}.takeaway ul{margin:10px 0 10px 25px}.takeaway li{color:#0c4a6e;font-weight:500}.nav-buttons{display:flex;justify-content:space-between;margin-top:40px;gap:20px}.back-btn,.next-btn{padding:14px 28px;border-radius:8px;text-decoration:none;font-weight:600;transition:all 0.3s}.back-btn{background:#6b7280;color:white}.next-btn{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white}table{width:100%;border-collapse:collapse;margin:20px 0}table th,table td{padding:12px;text-align:left;border-bottom:1px solid #e5e7eb}table th{background:#f3f4f6;color:#1e40af;font-weight:600}.toc{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:20px;margin-bottom:30px}.toc h3{color:#1e40af;margin-bottom:15px}.toc ul{list-style:none;margin:0;padding:0}.toc li{margin:8px 0}.toc a{color:#2563eb;text-decoration:none}.comparison{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:20px 0}.comparison>div{padding:20px;border-radius:8px}.do-this{background:#dcfce7;border:2px solid #10b981}.not-this{background:#fee2e2;border:2px solid #ef4444}@media(max-width:600px){.comparison{grid-template-columns:1fr}}</style>
</head>
<body>
<div class="container">
<div class="header">
    <h1>Module 2: Developing SuiteScripts</h1>
    <p class="meta">Week 1 ‚Ä¢ NetSuite SuiteScript 2.0 Training ‚Ä¢ ~45 minutes</p>
</div>
<div class="content">

<div class="toc">
    <h3>üìë In This Module</h3>
    <ul>
        <li><a href="#objectives">Learning Objectives</a></li>
        <li><a href="#anatomy">1. SuiteScript 2.0 Anatomy</a></li>
        <li><a href="#annotations">2. Required Annotations</a></li>
        <li><a href="#define">3. The Define Statement</a></li>
        <li><a href="#entrypoints">4. Entry Point Functions</a></li>
        <li><a href="#workflow">5. Development Workflow</a></li>
        <li><a href="#helloworld">6. Hello World Example</a></li>
        <li><a href="#practice">Practice Exercises</a></li>
    </ul>
</div>

<h2 id="objectives">üéØ Learning Objectives</h2>
<ul>
    <li>Set up Eclipse IDE with SuiteCloud plugin</li>
    <li>Understand SuiteScript 2.0 file structure</li>
    <li>Write and deploy a Hello World script</li>
    <li>View script execution in the Execution Log</li>
</ul>

<h2 id="anatomy">1. SuiteScript 2.0 Anatomy</h2>

<p>Every SuiteScript 2.0 file has three required parts:</p>

<ol>
    <li><strong>Required Annotations</strong> ‚Äî Tell NetSuite about your script</li>
    <li><strong>Define Statement</strong> ‚Äî Import modules and create your script module</li>
    <li><strong>Entry Point Functions</strong> ‚Äî The functions NetSuite will call</li>
</ol>

<h2 id="annotations">2. Required Annotations</h2>

<pre><code>/**
 * @NApiVersion 2.1
 * @NScriptType UserEventScript
 */</code></pre>

<div class="info-box red">
    <strong>üö´ Critical</strong>
    <p>Without these annotations, your script won't be recognized as SuiteScript 2.0!</p>
</div>

<table>
    <tr><th>Annotation</th><th>Purpose</th><th>Values</th></tr>
    <tr><td><code>@NApiVersion</code></td><td>SuiteScript version</td><td><code>2.0</code> or <code>2.1</code></td></tr>
    <tr><td><code>@NScriptType</code></td><td>Script type</td><td>UserEventScript, ClientScript, ScheduledScript, etc.</td></tr>
    <tr><td><code>@NModuleScope</code></td><td>Module visibility (optional)</td><td>SameAccount, Public</td></tr>
</table>

<div class="info-box blue">
    <strong>üí° 2.0 vs 2.1</strong>
    <p>Version 2.1 supports modern JavaScript features like arrow functions, let/const, template literals, and promises. Use 2.1 for new development.</p>
</div>

<h2 id="define">3. The Define Statement</h2>

<p>The define statement imports NetSuite modules and creates your script module:</p>

<pre><code>define(['N/record', 'N/log'], function(record, log) {
    // Your code here
    
    return {
        afterSubmit: afterSubmit
    };
});</code></pre>

<h3>How It Works</h3>
<table>
    <tr><th>Part</th><th>Purpose</th></tr>
    <tr><td><code>['N/record', 'N/log']</code></td><td>Array of modules to import</td></tr>
    <tr><td><code>function(record, log)</code></td><td>Parameters that receive the imported modules</td></tr>
    <tr><td><code>return { ... }</code></td><td>Object mapping entry point names to functions</td></tr>
</table>

<div class="info-box yellow">
    <strong>‚ö†Ô∏è Order Matters</strong>
    <p>The order of modules in the array must match the order of parameters in the function. If you import <code>['N/record', 'N/log']</code>, your function must be <code>function(record, log)</code> ‚Äî not <code>function(log, record)</code>.</p>
</div>

<h2 id="entrypoints">4. Entry Point Functions</h2>

<p>Entry points are functions that NetSuite calls automatically when certain events occur:</p>

<pre><code>function afterSubmit(context) {
    log.debug('Title', 'Record saved successfully!');
}</code></pre>

<h3>Entry Points by Script Type</h3>
<table>
    <tr><th>Script Type</th><th>Entry Points</th></tr>
    <tr><td>User Event</td><td>beforeLoad, beforeSubmit, afterSubmit</td></tr>
    <tr><td>Client Script</td><td>pageInit, fieldChanged, validateField, saveRecord, etc.</td></tr>
    <tr><td>Scheduled</td><td>execute</td></tr>
    <tr><td>Map/Reduce</td><td>getInputData, map, reduce, summarize</td></tr>
    <tr><td>Suitelet</td><td>onRequest</td></tr>
    <tr><td>RESTlet</td><td>get, post, put, delete</td></tr>
</table>

<h2 id="workflow">5. Development Workflow</h2>

<p>The complete process to deploy a script:</p>

<ol>
    <li><strong>Write the Script</strong> ‚Äî Create your .js file in Eclipse or any IDE</li>
    <li><strong>Upload to File Cabinet</strong> ‚Äî Put the file in SuiteScripts folder</li>
    <li><strong>Create Script Record</strong> ‚Äî Customization ‚Üí Scripting ‚Üí Scripts ‚Üí New</li>
    <li><strong>Create Deployment</strong> ‚Äî Link script to specific records/triggers</li>
    <li><strong>Test</strong> ‚Äî Trigger the script and check Execution Log</li>
</ol>

<div class="info-box blue">
    <strong>üí° Eclipse SuiteCloud IDE</strong>
    <p>The SuiteCloud IDE plugin automates uploading to File Cabinet. You can also manually upload via Documents ‚Üí Files ‚Üí File Cabinet ‚Üí SuiteScripts.</p>
</div>

<h2 id="helloworld">6. Hello World Example</h2>

<p>Here's a complete User Event script that logs a message after every record save:</p>

<pre><code>/**
 * @NApiVersion 2.1
 * @NScriptType UserEventScript
 * @description Hello World - logs after record save
 */
define(['N/log'], function(log) {
    
    /**
     * After the record is submitted to the database
     * @param {Object} context
     * @param {Record} context.newRecord - The saved record
     * @param {string} context.type - Trigger type (create, edit, delete)
     */
    function afterSubmit(context) {
        log.debug({
            title: 'Hello World',
            details: 'Script executed! Trigger type: ' + context.type
        });
    }
    
    return {
        afterSubmit: afterSubmit
    };
});</code></pre>

<h3>Viewing the Execution Log</h3>
<p>After triggering your script, check the output:</p>
<ol>
    <li>Go to <strong>Customization ‚Üí Scripting ‚Üí Script Deployments</strong></li>
    <li>Click on your deployment</li>
    <li>Click the <strong>Execution Log</strong> subtab</li>
    <li>Look for your log messages</li>
</ol>

<div class="info-box green">
    <strong>‚úÖ Log Levels</strong>
    <p>There are four log levels: <code>log.debug()</code>, <code>log.audit()</code>, <code>log.error()</code>, <code>log.emergency()</code>. Use debug for development, audit for important business events.</p>
</div>

<h2 id="practice">üèãÔ∏è Practice Exercises</h2>

<div class="info-box green">
    <strong>Exercise 1: Your First Script</strong>
    <p>Create a User Event script on the Employee record that logs the employee's name in afterSubmit. Deploy it and save an Employee to see the log.</p>
</div>

<div class="info-box green">
    <strong>Exercise 2: Add More Logging</strong>
    <p>Modify your script to also log in beforeSubmit. Compare what information is available in beforeSubmit vs afterSubmit.</p>
</div>

<div class="info-box green">
    <strong>Exercise 3: Different Log Levels</strong>
    <p>Add logs at all four levels (debug, audit, error, emergency). Then change the deployment's Log Level setting and observe which logs appear.</p>
</div>

<div class="takeaway">
    <h3>üéØ Key Takeaways</h3>
    <ul>
        <li>Every SuiteScript 2.0 needs annotations, define statement, and entry points</li>
        <li><code>@NApiVersion</code> and <code>@NScriptType</code> are required annotations</li>
        <li>Use <code>define()</code> to import modules and create your script</li>
        <li>Module array order must match function parameter order</li>
        <li>Scripts must be uploaded to File Cabinet before deployment</li>
        <li>Create Script Record and Deployment to activate your script</li>
        <li>Check Execution Log to verify your script ran successfully</li>
    </ul>
</div>

<div class="nav-buttons">
    <a href="week-1-dashboard.html" class="back-btn">‚Üê Back to Week 1</a>
    <a href="../Week-2/Module-3.html" class="next-btn">Next: Module 3 ‚Üí</a>
</div>

</div>
</div>
</body>
</html>
