Configuring actions on data entry. In this module, we will begin applying our knowledge of workflow triggers to configure a single state workflow supporting actions performed during data entry. The workflow created in this module represents the first of several individual workflows that we will create using a modularized approach to workflow development. We will also introduce you to conditional logic and how conditions can be created using the Visual Builder that limits when workflows, actions, and transitions will be executed.

In this module, we will discuss the following topics common actions configured on data entry and workflow conditions. Upon the completion of this module, you will be able to create a single state workflow with a series of actions configured on client triggers that manipulate the fields on record entry forms and use the Visual Builder to configure conditions that limit when actions are executed during data entry.

The following actions are commonly configured on client triggers to support data entry tasks. Set Field Display Type configures whether a field can be edited or not. Set Field Mandatory configures whether a field is required or optional. Set Field Value inserts a value into a field. Return User Error displays an error message. Show Message displays an informational message. And confirm displays a warning message. Most but not all of these actions are also configurable on server triggers, which we will discuss in the next module.

The Set Field Display Type action is used to change the display type of a field, such as hiding, showing, or disabling a field as the user interacts with the entry form. Display properties include hidden, inline, disabled, and normal. The Set Field Display Type action can be configured on the following client triggers. Before user edit, before field edit, after field edit, and after field sourcing. Remember that while it is possible to achieve the same form modification results using Suite Builder, it may not be possible to change the display characteristics of custom fields depending on how the field is configured. For example, custom fields that are hidden on the record by default cannot be displayed using set field display type in a workflow.

The Set Field Mandatory action is used to dynamically set a field as mandatory or optional as the user interacts with the entry form. If set to mandatory, the field must contain a value before the user can save the form. In NetSuite, a field is designated as mandatory when an orange asterisk appears next to the field's label. The Set Field Mandatory action can be configured on the following client triggers. Before user edit, before field edit, after field edit, and after field sourcing.

The Set Field Value action is the most used action in SuiteFlow. Set Field Value is used to set the value of record fields, including dropdown lists, multi-select fields, date fields, custom record fields, and even workflow and state fields. The most common use for this action is setting a field's value as the record enters a particular state or while the user is interacting with the fields on an entry form. The set field value action can be configured on all client triggers. When configuring the set field value action on a client trigger, the value will only be committed to the database when the record is saved. It is not dynamically committed to the database during entry.

The Return User Error action is used to display an error message to users. It is often used during field or record level validations as the user interacts with the form. Return User Error causes forms submittal to be canceled when executed at before user submit. But it can be used on other client triggers to simulate the display of an informational message. When configuring the Return User Error action, you must define a condition to identify the error and then set the message text to be displayed to the user. The error message displayed to the user and the usage of the action depends on the type of client trigger selected.

The Return User Error action can be configured on all client triggers. When configured on most client triggers, a popup window will be displayed with an OK button. When configuring Return User Error on a server trigger, the user will receive a full error page rather than a pop up window. Acknowledging the error page returns the user to the form and all field values will be reverted to their initial values.

The Show Message action is used to display an alert to the user with an OK button. Unlike the Return User Error action, the Show Message action does not prevent users from taking further action on the form, nor does it prevent them from submitting the form. The purpose of the Show Message action is simply to display a message to the user so they can acknowledge the message and continue with their work. Show Message is a client side only action supported by all client triggers and cannot be configured on server triggers.

Finally, the Confirm action is a hybrid between the Show Message action and the Return User Error action. The Confirm action displays a popup message with OK and Cancel buttons. It allows the user to acknowledge or disregard the message and continue working. Confirm is similar to Return User Error in that both actions prevent a user from moving forward. Users must click OK and then make the change specified in the error message before the system will let them proceed.

If the user clicks Cancel, they are not restricted from taking further action, like Return User Error. But the action the user was attempting will be aborted, such as setting a field's value or saving the record form. The Confirm action can be configured on the following client triggers. Before field edit and before user submit. Like the Show Message action, Confirm is not configurable on server triggers.

Conditions allow you to limit when a workflow can be initiated or when actions and transitions can be executed. More specifically, conditions represent a set of criteria that is evaluated as either true or false and based on the result executes a set of tasks. This type of conditional logic is referred to as Boolean logic and is most commonly associated with basic if then statements in computer programming. If something evaluates to true, then perform some action. A single workflow, action, or transition configuration can contain multiple conditions, all of which must evaluate true in order for the workflow, action, or transition to be executed.

Conditions are defined using the Visual Builder when modifying a workflow's definition or when configuring an action or transition. Each condition is comprised of three components, the left side, operator, and right side. Note how the condition is essentially an if statement. If estimated project cost is greater than $10,000.

When defining conditions using the Visual Builder, the left side identifies the value to be compared and is required. A compare type where operator is used as the criteria by which to perform the comparison and is also required. The right side identifies the value that is compared against the value on the left side. Right side configuration is required except when the compare type is empty or not empty or checked or not checked. The selection column will be required when specifying list record fields.

If you are simply comparing the values of two fields, it does not matter which field is on the left side and which field is on the right side. If you want to compare multiple values using a single condition, you must use expressions. The process of defining more complex conditions using expressions is the same as defining simple conditions except you are able to use parentheses and and, or, not operators.

A conditions compare type represents the specific operators used in a conditional statement. The following compare types can be selected when defining conditions. The compare types available when defining a condition will be based on the type of field selected on the left side of the Visual Builder. For example, selecting the is person checkbox field from the customer record on the left side will only display equal, not equal and checked, not checked as available compare types. Most of these compare types are easy to understand.

However, there is often confusion as to the usage of the any of and none of compare types. Each of these operators are specific to evaluating lists. For example, if you have a custom list of approval statuses, such as pending approval, approved, and rejected, using any of means if any of the selected values in the list evaluate to true, then perform the action. Using none of means only perform the action if none of the selected values evaluate true.

When defining workflow conditions that evaluate date and time fields, the date time values will be formatted and evaluated based on the format established in user preferences. This provides consistent input validation and evaluation of all date and time fields during workflow execution on both client and server. Entering a date and time value in a different format than what is set in your user preferences will generate an error indicating the expected format.

For example, if user preferences are set to month, day, year as shown, existing dates in Visual Builder conditions will auto format to month, day, and year. Entering an invalid date format such as 12.31.20 will generate an error indicating that the wrong format has been entered. The good news is if you decide to change your date and time preferences at a later date, all existing workflow conditions will be updated accordingly.

Here are some key things to remember when configuring actions on data entry. Use before field edit to process field level validations. Use after field edit to change display characteristics of other fields based on changing a specific field to some value. Use after field sourcing if you need sourced in data to affect another field's value, otherwise use after field edit. Use Show Message for informational messages and Return User Error for error messages. Configure Return User Error at before field edit if the intent is to validate field data as soon as you exit or tab out of a field. Configure Return User Error at before user submit if the intent is to validate all fields when saving a form.

Here are some key things to remember when configuring workflow conditions. Conditions represent the criteria by which a set of parameters are evaluated to determine whether a workflow, action, or transition should be executed. A single workflow, action, or transition configuration can contain multiple conditions, all of which must evaluate true in order for the workflow, action, or transition to execute.

Values in multi-select fields cannot be selected in the Visual Builder. Therefore, you must use expressions to include each option as needed. For example, if condition one or condition two or condition three. Compare types represent specific operators used in conditions that evaluate list values. And conditions using date and time fields will be formatted and evaluated based on date time format settings established in your user preferences.

Finally, here are some additional key things to remember when entering workflow and other Suite Builder component IDs. Begin with an underscore character and include a namespace that identifies your company, then add another underscore character. For example, in our course case study, we are entering underscore SDR underscore as the prefix for all of our SuiteDreams components. There are no spaces allowed in any Suite Builder component names.

Field IDs are limited to 28 characters depending upon the Suite Builder component being customized. The user interface will automatically force all IDs to lowercase. Field IDs should have well formed names for the following reasons. They're referenced in scripts using SuiteScript, they're referenced when communicating with web services using SuiteTalk, and they can minimize conflicts when installing third party bundles using SuiteBundler.

In this walkthrough, we will enhance the functionality of the performance review entry process by creating a new workflow that automates several data entry tasks, such as defaulting field values, hiding fields, making fields mandatory and optional, and displaying user errors on form validation using only client triggers.

Let's create a workflow with configured actions on data entry. And to do that, once again, I'm going to navigate to the Workflow Manager by going to Customization, Workflow, Workflows. And I'm going to change my record type filter to show me my performance review record, not performance review demo. So I'm going to go ahead and change that. And you can see we have our performance review entry 02 workflow that we created earlier.

And before we create our new data entry workflow that has many of the actions that we previewed a little bit earlier, I do want to go ahead and inactivate this entry workflow so we don't have that message being popped up every time we create a new performance review record. You certainly can have multiple workflows running on a single record. But in this case, I just don't want to have that message popped up. That was just an example, and we don't need it to execute every time we create a new record.

So what I'm going to do is I'm going to edit this workflow definition by clicking Edit and then clicking on the Edit icon in the Workflow tab. And I'm simply going to inactivate this workflow entirely. So it will never initiate on performance review records again until I reactivate it. Now click Save. I'm going to go back to my workflow list. Notice that that workflow once it's inactivated is no longer shown in the list. But I can certainly show it if I want to by clicking on the Show Inactives, and I can bring it up. But in this case, I'm going to go ahead and leave it inactive. That's great.

And now let's create a brand new workflow. I'm going to click New workflow. Now, coincidentally, I could have just deleted that workflow. We really don't need it anymore. I could have just as easily deleted it as well. But in this case, I'm just going to inactivate it. So let's go ahead and create a new workflow. We're going to go ahead and call this very similar to the one we just inactivated performance review entry. I'm going to go ahead and enter in an ID as follows. Notice that custom workflow IDs and other Suite Builder component IDs should follow some sort of naming convention. This becomes particularly important as workflows become more complex and require maybe being called by external scripts, such as those created with SuiteScript.

So when [INAUDIBLE] 28 character limit on most IDs, although it does depend on the Suite Builder component that you are creating, but most have a 28 character limit. And when entering component IDs, best practices state that you should start with some sort of abbreviation. So in our case, we're entering SDR, which just so happens to be short for SuiteDreams, which is our fictitious furniture company. Notice that I'm also entering a preceding underscore character in front of that prefix.

So underscore prefix SDR then underscore and the remaining parameters for that ID all separated by underscore characters. So the first thing you need to understand is that you cannot have spaces in IDs. So that's why we need to put the underscore characters in there. But you could use dashes if you want to. Although I just think underscore characters from a coding perspective is just a little cleaner. So definitely be aware of your ID naming conventions.

The record type that I'm going to go ahead and select is going to be Performance Review. Notice there's no subtypes. I'm going to set the release status to testing, which you can see is the default status. And that's exactly what we want. This is a brand new workflow. So I definitely want to make sure that I test it adequately before I push it into a production environment.

With regards to the testing status, I'm going to go ahead and enable logging. That way if the workflow does not execute or function as I expect it, I can go in and consult the log files and kind of troubleshoot that workflow's execution and correct any issues that might exist. The only way I can do that is if I enable logging.

This is going to be an event based initiation workflow, meaning it's going to be initiated through some user event, whether it's clicking Edit, clicking Save, clicking New, clicking View. Some user interface initiated event. And I want this to go ahead and initiate during new performance review records only. So I'm not going to have it be initiated during edit or view, only on initial creation of new records.

You'll also remember that we do need to select the trigger type for this workflow. And notice that I only see my three server triggers. I think we mentioned in our client trigger discussion that you can configure client triggers for many client side actions. However, for workflow initiation itself, it must be a server trigger that is used to initiate the workflow. So in this case, I'm going to go ahead and choose before record load. And again, we're going to talk more about this in the next module when we talk about server triggers. But for right now, what this is basically saying is when I request a new record be created in the system, when that record form is loaded into the user's browser, go ahead and initiate this workflow.

I'm going to go ahead and save this workflow definition. And I get my default state one. Let me go ahead and change that state name. I'm going to double click on the state to bring up the state definition window. And I'm going to, once again, just go ahead and enter in state one data entry. I'm going to go ahead and check the Do Not Exit Workflow checkbox. And that basically just means when the workflow initiates and when the record enters the state and processes all the actions that we configure in the state, I want to leave the workflow running on this record. That's all that means. We're going to talk about it in more detail much later in this course.

I'm going to go ahead and click Save on that state configuration. And now let's go ahead and configure the necessary actions. Now, you remember there are several actions we need to configure from Set Field Value, Set Field Mandatory, Set Field Display Label, Set Field Display Type, and Return User Error, all of which are going to be configured on client triggers. And all of these actions affect how the user is interacting with the data and the fields on the record form.

So let's go ahead and begin with creating a Set Field Value action that sets the value of the review date field to the end of next week's. What I'm going to do is I'm going a click New Action over here in the State tab in the Context panel. And I'm going to choose Set Field Value right down here. The trigger that I'm going to go ahead and put this on is not going to be entry in this case. I'm actually going to make sure that this executes only one specific event occurs. And that's going to be before user edit. And that's going to occur just before the user is able to actually click and interact with any fields on the record form.

The field that we want to manipulate in this case is going to be review date, which is right there. And what we're going to do is we're going to say, I want to set that to the value from a date dropdown field over here of end of next week. If I can find that here. There it is right there. End of next week. And that's all I'm going to do. It's just simply defaulting a value into our date field.

I'm going to go ahead and save that action configuration. And you can see it gets added to the before user edit trigger over here in the context panel. If I actually edit the state definition, you can see that that action is also listed here in the list of actions in the action sublist. OK. Cancel there.

Let's go ahead and test this action. So as we create each action, we'll just go ahead and create a new performance review record and test them. So I'm going to go to Lists, Custom, Performance Review, New. And I'm just going to open that up in a new tab. And watch what happens immediately before I'm able to interact with the record. Noticed that the review date is now populated with the date, which is a week from the end of the week from when I'm recording this, which is the 4th of June. So you can see that that is actually working pretty well.

Let's go ahead and create a Set Field Mandatory action, which makes our rating code field mandatory and/or optional depending on the value of the review type. So let's jump back to the workflow. Going to select the state. And I'm going to create a new action. This time we're going to choose Set Field Mandatory. And the trigger that I want to select this time is going to be after field edit. So right after the user changes the review type is when I want this action to execute and do its thing. So after field edit.

And the field that I want to affect is going to be the rating code field. That's what I want to make mandatory or optional. And in this case, I'm going to go ahead and make the rating code field mandatory. But now we have to ask ourselves, when do we want to make that field mandatory? Well, we want to make that field mandatory when the review type is salary change. So we have to do two more things for this action configuration.

The first thing we need to do is specify the triggering field for this action. And in this case, the triggering client field is going to be review type. Since that's the value we're changing to trigger the action. And then we simply need to add a condition on this action that says we only want to perform this when the review type is changed to salary change. So it's not enough that the review type is changing. We need to know what it's changing to.

So let's create a condition. Review type. Just going to enter it right in here in the Field column in the Condition Builder. I'm going to say review type is any of or equal to, it's the same thing, a value of salary change. Now, I can select it from the list or I can go ahead and just enter it in. Either way is perfectly fine. And I can add that condition. So execute the action. When the user changes the review type to salary change, make the rating code field mandatory when it's salary change. And that's all I'm going to do. And I'll save that.

And now let's jump out and test our new action. So if I jump out here and I do a Control F5 to reload that record form, notice that because salary change is selected as the default value, notice that rating code is actually mandatory. If I change this, notice nothing happens. And the reason is we have it hooked up the other half of the Set Field Mandatory functionality. So if I'm going to make something mandatory, there has to be a condition that makes it optional. Let's go ahead and set that up.

To do that, I'm going to copy the existing Set Field Mandatory action. So I'm going to select it here in the Context panel. I'm going to scroll to the very top of the action definition, and I'm going to click Make Copy. And now all I have to do is just change the condition and the value of the rating code. So I want to make it optional when the review type is no salary change. OK. And I'll save the condition. The triggering field is still review type. Just that we're triggering it on a different condition. And we'll save that action.

Now let's jump over to our record and test that. We'll reload it. If I change this to no salary change, notice that rating code is optional now. If I change it back to salary change, notice that rating code is now mandatory.

Now, the other thing we want to do is let's go ahead and configure a Set Field Display Label action. You'll recall from our example earlier that we were changing the review name field here, this label, to review period. So let's go ahead and configure that simple action. I'm going to jump back to my entry workflow. And let's create a set field display label action. I'm going to go ahead and choose that. And the trigger that we're going to use on this particular action is once again going to be before user edit. So right before the user interacts with the record form.

And we're simply going to change the display label of the name field. Remember it was called review name on the form, but it's actually called name in the actual field selection list here in SuiteFlow. We're going to call it review period. That's all we're going to do. I don't need any conditions or anything. Just do a straight label change for that field. Let me jump back to our record. All I'm going to do is a refresh of the record. And notice it now is being displayed as review period.

Now, there's one thing I want to show you here is that if I actually were to enter a record here. Let me actually enter a second record just to show you something. And I'll just enter some dummy values here. And let me set that. There we go. If I go and look at that record that I just entered and view that, notice that Review Name field is still being displayed as review name. The label is not being changed to review period, which is what I just set up.

This is a classic example of display persistence gone wrong. So we need to make sure we fix this a little bit later when we get to our actions at record load module. And we will, in fact, do that. But I did want to show you that when you view or edit these records that many of these actions will not be persisted, which is why we need to create then on server triggers. More on that a little later.

Let me go ahead and go back to our list of records here. Let me go ahead and create a new performance review record here once again. And now let's create a couple Set Field Display Type actions. And we're going to affect the salary increase amount field. So if the review type is salary change, we want to display the salary increase amount field as normal. If we change the review type to no salary change, we want to hide the salary increase amount field. So let's go ahead and do that.

Jumping back to our workflow. Let's go ahead and create the Set Field Display Type action. Once again, the trigger for action execution is going to be after field edit. So once they make a change to a field. And again, the triggering field in this case is still going to be review type. But let's go ahead and set the value, the display type value of salary increase amount, To hidden. So hide salary increase amount when the review type is changed and the review type is no salary change. There we go. And we'll save that condition. And I'll save that action so that you could see it right there. Set field display type.

Just like we did with our Set Field Mandatory action, I'm going to go ahead and duplicate this to create the other condition, which is to show the salary increase amount field when the review type is salary change. So I'm simply going to change the display type to normal and update the condition.

All right. There we go. Review type any of salary change. And I'll go ahead and save the action. I'm going to go ahead and refresh the entry form. And if I select Review Type Salary Change, notice that salary increase amount is displayed. If I choose No Salary Change, notice that salary increase amount is now hidden.

And finally, let's go ahead and add a Return User Error action on the salary increase amount field. So if it is a salary change performance review, we want to prevent salary increase amounts greater than $10,000. And we want to throw an error to the user if they enter a value larger than 10,000. So let's go ahead and do that.

So once again, we'll add a new action. This time, it's going to be Return User Error. And all we're going to basically do is this. We're going to enter the text for the error right here in the parameter section. Salary increase amount cannot be greater than $10,000. And we simply want to put a similar condition on that to basically say throw this error when salary increase amount is greater than $10,000. And I'll save that and save the action configuration.

Let's go ahead and test it. And to do so, I am going to need to enter a new record. We'll call this test number three. And I'll select subordinate. I'll select my salary change. Enter a rating code. And enter a salary increase amount of $11,000. And hopefully we will get an error when we click Save. Yeah, we do. Now, notice that the error is displayed in a nice, user friendly popup window that I simply acknowledge and I can continue with my work to correct the error. So I come down here. Maybe you put $3,500 and save the record.

So those were some great examples of some basic client side actions, many of which are used to manipulate various fields and/or populate field values based on changes to other fields on the record form. It is now time for you to complete the required hands on exercises associated with the topics discussed in this module. To complete the required exercises, refer to your student workbook. When you have finished, you may continue with the next module.

This concludes the Configuring Actions on Data Entry module.